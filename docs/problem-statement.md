# Problem Statement & Solution

> AI-Based Fraud Detection & Risk Management System (FD002)

## The Problem: Digital Payment Fraud Crisis

### Global Fraud Landscape

The rise of digital payments has created an unprecedented fraud crisis:

| Metric | Value | Source |
|--------|-------|--------|
| **2025 Global Digital Fraud** | $50+ billion | Coinlaw.io |
| **2024-2027 Cumulative Losses** | $343 billion | Mastercard |
| **E-commerce Fraud Growth** | $44B → $107B (2024-2029) | Sift |
| **Businesses' Revenue Lost to Fraud** | 7.7% annually | TransUnion |

### The Challenge with Traditional Systems

Traditional rule-based fraud detection systems suffer from critical flaws:

| Challenge | Impact |
|-----------|--------|
| **High False Positives** | 90-98% of alerts are false alarms |
| **Compliance Costs** | $274 billion globally on AML compliance |
| **Customer Friction** | Legitimate transactions declined |
| **Rigid Rules** | Can't adapt to evolving fraud patterns |
| **Manual Review Burden** | Teams overwhelmed with non-suspicious cases |

> *"Up to 90-98% of alerts generated by traditional AML systems turn out to be false positives, causing compliance teams to spend disproportionate time investigating non-suspicious activities."*

### The Double-Edged Sword

Financial institutions face a critical balancing act:

```
         Too Sensitive                      Too Lenient
              ↓                                  ↓
    ┌─────────────────┐              ┌─────────────────┐
    │  More fraud     │              │  Less customer  │
    │  caught BUT     │              │  friction BUT   │
    │  more false     │              │  more fraud     │
    │  positives      │              │  slips through  │
    └─────────────────┘              └─────────────────┘
```

---

## TechFiesta Problem Statement

> **FD002: AI-Based Fraud Detection & Risk Management System**
>
> *With the rise of digital payments and online banking, fraud detection is more critical than ever. Build a system that can analyze financial transactions in real-time and flag suspicious or potentially fraudulent activities using machine learning or rule-based logic. The solution should help reduce false positives while identifying high-risk behavior patterns.*

### Expected Features

| Feature | Our Implementation |
|---------|-------------------|
| ✅ Ingest and analyze mock transaction data | 150K realistic transactions processed |
| ✅ Rule-based logic (location mismatch, abnormal amount) | 30 expert rules in 9 tiers |
| ✅ ML models (anomaly detection) | XGBoost + LightGBM + CatBoost ensemble |
| ✅ Risk scoring system | 0-100% score with LOW/HIGH/CRITICAL levels |
| ✅ Dashboard to visualize flagged transactions | React dashboard with 8 modules |
| ✅ Alert system | Alert Management Center with filters |

---

## Our Solution: Cascaded Hybrid Architecture

We solve the false positive problem with a **cascaded approach**:

### Architecture Overview

```
┌─────────────────────────────────────────────────────────────────┐
│  TRANSACTION INPUT                                               │
└─────────────────────────────────┬───────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────┐
│  STAGE 1: RULE ENGINE (Fast, Explainable)                        │
│  ├── 30 expert rules across 9 tiers                              │
│  ├── Score ≥ 85% → HARD BLOCK (5.7% of transactions)            │
│  └── Provides instant, explainable decisions                     │
└─────────────────────────────────┬───────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────┐
│  STAGE 2: BAYESIAN NEURAL NETWORK (Gray Zone Detection)          │
│  ├── Identifies "gray zone" transactions (rule score 30-84%)    │
│  └── Determines if transaction needs stronger rule influence    │
└─────────────────────────────────┬───────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────┐
│  STAGE 3: ML ENSEMBLE                                            │
│  ├── XGBoost (24.16% weight)                                     │
│  ├── LightGBM (68.47% weight)                                    │
│  └── CatBoost (7.37% weight)                                     │
└─────────────────────────────────┬───────────────────────────────┘
                                  │
                                  ▼
┌─────────────────────────────────────────────────────────────────┐
│  CASCADED BLENDING                                               │
│  ├── High Risk: 65% ML + 35% Rules (trust rules more)           │
│  └── Low Risk:  90% ML + 10% Rules (trust ML more)              │
└─────────────────────────────────┬───────────────────────────────┘
                                  │
                                  ▼
                         FINAL VERDICT
                     FRAUD / LEGITIMATE
```

### Why This Approach Works

| Traditional Systems | Our Cascaded System |
|---------------------|---------------------|
| 90-98% false positives | Targeted 52% precision |
| Single threshold decisions | Adaptive blending based on risk |
| Rules OR ML (not both) | Rules AND ML working together |
| No explainability from ML | 30 explainable rules + ML accuracy |
| Static thresholds | Bayesian-optimized dynamic thresholds |

---

## Key Innovations

### 1. Hard Block Bouncer
Transactions with rule scores ≥85% are immediately blocked—no ML needed. This catches obvious fraud instantly with near-100% precision.

### 2. Gray Zone BNN
A Bayesian Neural Network trained specifically on "gray zone" transactions (rule score 30-84%) learns which rule combinations indicate fraud.

### 3. Cascaded Blending
Instead of a fixed ML/Rules ratio:
- **High-risk transactions**: Rules get 35% weight (trust explainable evidence)
- **Low-risk transactions**: ML gets 90% weight (trust pattern recognition)

### 4. F2-Score Optimization
We optimize for **F2-Score** (recall-weighted) rather than F1:
- Prioritizes catching fraud (high recall: 83%)
- Accepts moderate precision (52%) as trade-off
- Critical in fraud detection where missing fraud is costlier than false alarms

### 5. Bayesian Hyperparameter Tuning
600+ optimization trials to find optimal:
- Model hyperparameters
- Ensemble weights
- Decision thresholds

---

## Results

| Metric | Value | Significance |
|--------|-------|--------------|
| **Recall** | 83.02% | Catches 83% of all fraud |
| **Precision** | 52.52% | Far better than 2-10% in traditional systems |
| **F2-Score** | 74.38% | Strong recall-weighted performance |
| **AUC-ROC** | 89.00% | Excellent discrimination ability |
| **Hard Block Rate** | 5.73% | Instant fraud flagging |

### Comparison

```
Traditional Rule-Based Systems:
├── False Positive Rate: 90-98%
├── Precision: 2-10%
└── Explainability: ✅

Traditional ML Systems:
├── False Positive Rate: 40-60%
├── Precision: 40-60%
└── Explainability: ❌

Our Cascaded Hybrid System:
├── False Positive Rate: ~48%
├── Precision: 52%
└── Explainability: ✅ (via rules)
```

---

## Dashboard Features

### Command Dashboard
Real-time transaction monitoring with live fraud scores and alerts.

### Detection Analytics
Visualize fraud trends, patterns, and model performance over time.

### Alert Management Center
Queue-based alert system with priority levels and filters by type, amount, location.

### Risk Scoring Engine
Deep-dive into individual transaction risk factors and rule triggers.

### Compliance Reporting
Generate regulatory reports and audit trails for flagged transactions.

---

## Addressing the Problem Statement

| Requirement | ✅ How We Solved It |
|-------------|---------------------|
| *Analyze transactions in real-time* | FastAPI backend with <100ms prediction latency |
| *Flag suspicious activities* | 30 rules + 3 ML models + risk scoring |
| *Reduce false positives* | Cascaded blending, BNN gray zone, optimized thresholds |
| *Identify high-risk patterns* | 235 engineered features, graph analysis, velocity detection |
| *Rule-based logic* | 30 expert rules in 9 tiers |
| *ML models* | XGBoost, LightGBM, CatBoost ensemble |
| *Risk scoring system* | 0-100% score with triggered rules explanation |
| *Dashboard with filters* | React dashboard with 8 modules |
| *Alert system* | Alert Management Center with priority queue |

---

## Technical Stack

| Layer | Technology | Purpose |
|-------|------------|---------|
| **ML Training** | XGBoost, LightGBM, CatBoost, Optuna | Model training & optimization |
| **Inference** | FastAPI, Joblib, NumPy, Pandas | Real-time prediction API |
| **Feature Engineering** | Custom pipeline, 235 features | Fraud pattern detection |
| **Frontend** | React 19, Vite, TailwindCSS, Recharts | Dashboard & visualization |
| **Architecture** | Cascaded hybrid (Rules → BNN → Ensemble) | Best of both worlds |

---

## References

- FTC Consumer Fraud Report 2024: $12.5B in losses
- Sift Q1 2025 Fraud Report: 3.3% attack rate
- Mastercard: $343B projected fraud losses by 2027
- Industry studies: 90-98% false positive rates in traditional AML systems
